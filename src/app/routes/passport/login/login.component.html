<div class="login-box">
  <nz-tabset nzSize="small">
    <nz-tab nzTitle="账号密码登录"(nzSelect)= "switch(0)"	>
      <form nz-form [formGroup]="form" (ngSubmit)="submit()" role="form">
        <nz-alert *ngIf="error" [nzType]="'error'" [nzMessage]="error" [nzShowIcon]="true" class="mb-lg"></nz-alert>
        <nz-form-item>
          <nz-form-control>
            <nz-input-group nzPrefixIcon="anticon anticon-user">
              <input nz-input formControlName="userName" placeholder="请输入用户名/邮箱/手机号">
            </nz-input-group>
            <nz-form-explain *ngIf="userName.dirty && userName.errors">请输入账户名且至少五个字符！</nz-form-explain>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-control>
            <nz-input-group nzPrefixIcon="anticon anticon-lock" class="password-wrapper">
              <input nz-input type="password" formControlName="password" placeholder="请输入密码">
              <a class="forget-pwd" (click)="findPwd()">忘记密码</a>
            </nz-input-group>
            <nz-form-explain *ngIf="password.dirty && password.errors">
              请输入密码！
            </nz-form-explain>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item class="btn-item">
          <button nz-button type="submit" nzType="primary" [nzLoading]="loading" class="ant-btn__block">登录</button>
        </nz-form-item>
      </form>
    </nz-tab>
    <nz-tab nzTitle="验证码登录" (nzSelect)	= "switch(1)">
      <form nz-form [formGroup]="form" (ngSubmit)="submit()" role="form">
        <nz-alert *ngIf="error" [nzType]="'error'" [nzMessage]="error" [nzShowIcon]="true" class="mb-lg"></nz-alert>
        <nz-form-item>
          <nz-form-control>
            <nz-input-group nzPrefixIcon="anticon anticon-mobile">
              <input nz-input formControlName="mobile" placeholder="请输入手机号">
            </nz-input-group>
            <nz-form-explain *ngIf="mobile.dirty && mobile.errors">请输入11位数手机号！</nz-form-explain>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-control>
            <nz-input-group nzPrefixIcon="anticon anticon-lock" class="auth-code-box">
              <input nz-input  formControlName="captcha" placeholder="请输入验证码">
              <button class="getCode" [ngClass]="{disabledBg: count}" nz-button (click)="getCaptcha()" [disabled]="count">{{ count ? count + 's' : '获取验证码' }}</button>
            </nz-input-group>
            <nz-form-explain *ngIf="mobile.dirty && mobile.errors">
              请输入验证码！
            </nz-form-explain>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item class="btn-item">
          <button nz-button type="submit" nzType="primary" [nzLoading]="loading" class="ant-btn__block">登录</button>
        </nz-form-item>
      </form>
    </nz-tab>
  </nz-tabset>
  <nz-form-item>
    <nz-col [nzSpan]="12">
      <label nz-checkbox [(ngModel)]="checked">记住密码</label>
    </nz-col>
    <nz-col [nzSpan]="12" class="text-right">
      还没有账号，<a class="register" (click)="close()" [routerLink]="['/passport/register']">立即注册</a>
    </nz-col>
  </nz-form-item>
  <hr>
  <div class="third-party-login">
    <div class="title">其他登录方式</div>
    <div class="icons-box">
      <img (click)="thirdPartyLogin()" src="/assets/images/wx.png" />
      <img src="/assets/images/QQ.png" />
      <img src="/assets/images/wb.png" />
    </div>
  </div>
</div>